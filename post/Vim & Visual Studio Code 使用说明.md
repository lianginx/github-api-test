# Vim & Visual Studio Code 使用说明

## 模式切换

| 指令    | 说明             | 助记           |
| ------- | ---------------- | -------------- |
| Esc     | 普通（命令）模式 | normal         |
| v, V, … | 可视模式         | visual         |
| i, a, … | 插入模式         | insert         |
| :       | 底线命令模式     | last line mode |

### 正常模式（默认）

编辑器默认处于正常模式，不论处于什么模式，按下 Esc 键都会恢复到正常模式（有时可能需要多按几下）。

### 插入模式

正常模式下，按下 `i` `a` 等按键会进入插入模式，此时可以输入内容。

### 命令模式

正常模式下，按下 `:` 键，会进入命令模式，此时可以输入命令进行执行。

常用命令有：

| `w` 保存文件
| `q` 退出文件
| `q!` 强制退出
| `wq` 保存并退出文件（组合命令）

### 可视模式

正常模式下，按下 `v` `V` `ctrl + v` 键，会进入可视模式，此时可以进行文字选择等操作。

## 移动／跳转

移动：

> 命令前输入数字可以重复执行

| 指令     | 说明               | 助记 |
| -------- | ------------------ | ---- |
| h        | 左移一格           |
| H        | 移动至屏幕顶行     |
| l        | 右移一格           |
| L        | 移动至屏幕行底     |
| j        | 下移一行           |
| J        | 合并下一行         |
| k        | 上移一行           |
| K        | 帮助（无）         |
| [数字]gg | 跳转至指定行       |
| gg       | 跳转至第一行行首   |
| G        | 跳转至最后一行行首 |
| 0        | 移动到行首         |
| $        | 移动到行尾         |

翻页：

| 指令     | 说明       | 助记 |
| -------- | ---------- | ---- |
| ctrl + f | 向上翻一页 |      |
| ctrl + b | 向下翻一页 |      |
| ctrl + u | 向上翻半页 | up   |
| ctrl + d | 向下翻半页 | down |

### 插入操作

> vim 中的光标是方块形式
  
| 命令     | 说明                                       |
| -------- | ------------------------------------------ |
| i        | 光标前插入                                 |
| I        | 行首插入                                   |
| a        | 光标后插入                                 |
| A        | 行尾插入                                   |
| o        | 段后插入新行                               |
| O        | 段前插入新行                               |
| s        | 删除字符并插入                             |
| S        | 删除行并插入                               |
| r + 字符 | 使用输入你符替换选中字符（单字符）         |
| R        | 输入字符替换选中字符（持续输入，esc 退出） |

### 编辑操作

| 命令         | 说明                                 | 助记      |
| ------------ | ------------------------------------ | --------- |
| x            | 删除光标字符                         |
| x            | 删除光标前字符                       |
| dd           | 删除选中行                           | delete    |
| D            | 删除光标位置到行尾                   |
| di[成对符号] | 删除选中行成对符号之间的内容         | delete in |
| dt[字符]     | 删除光标位置到指定字符位置之间的内容 | delete to |
| cc           | 剪切当前行并进入插入模式             |
| C            | 剪切光标位置到行尾并进入插入模式     |
| u            | 撤销命令                             |
| U            | 撤销行内命令                         |
| Ctrl + r     | 重做命令                             | redo      |
| yy / Y       | 复制选中行                           | copy      |
| p            | 粘贴到光标/段后                      | paste     |
| P            | 粘贴到光标/段前                      | paste     |

## 查找替换

> 类似正则表达式

| 命令                         | 说明         |
| ---------------------------- | ------------ |
| :s/{查找}/{替换}/{替换标志}  | 行内查找替换 |
| :%s/{查找}/{替换}/{替换标志} | 全文查找替换 |

查找多个关键字时，关键字之间插入 `|`。

替换标志：

| 命令 | 说明                                               |
| ---- | -------------------------------------------------- |
| g    | 全局替换                                           |
| i    | 大小写不敏感                                       |
| I    | 大小写敏感                                         |
| c    | 每次替换需要确认：replace with {替换} (y/n/a/q/l)? |

替换标志 `c` 指令说明：

| 指令 | 说明         |
| ---- | ------------ |
| y    | 替换         |
| n    | 不替换       |
| a    | 替换所有     |
| q    | 退出查找模式 |
| l    | 替换并退出   |
